document.addEventListener("keyup",(e=>{if(e.target.matches(".form [required]")){let t=e.target,a=t.pattern||t.dataset.pattern;if(a&&""!==t.value)return new RegExp(a).test(t.value)?t.classList.remove("test-active"):t.classList.add("test-active");if(!a)return""===t.value?t.classList.add("test-active"):t.classList.remove("test-active")}}));const URL="./inc/sendEmail.php",RESPONSE_CONTENT=document.querySelector(".form__message"),RESPONSE_MESSAGE=document.querySelector(".form__message p"),LOADING=document.querySelector(".form__loading");async function sendEmail(e){LOADING.classList.add("form__loading--active");try{const t=JSON.stringify({name:e.contactName.value,company:e.contactCompany.value,phone:e.contactPhone.value,email:e.contactEmail.value,subject:e.contactSubject.value,note:e.contactNote.value}),a=await fetch(`${URL}`,{method:"POST",body:t}),s=await a.json();"success"===s.status?(LOADING.classList.remove("form__loading--active"),RESPONSE_MESSAGE.innerText=s.message,RESPONSE_CONTENT.classList.add("show","form__message--success"),e.reset()):(LOADING.classList.remove("form__loading--active"),RESPONSE_MESSAGE.innerText=s.message,RESPONSE_CONTENT.classList.add("show","form__message--failed"))}catch(e){console.error(`Hubo un problema con la peticiÃ³n Fetch: Error ${e}`)}}const FORM_LOGIN=document.querySelector(".form");window.addEventListener("load",(()=>{preloader(),setHeight();let e=Math.max(BODY.scrollHeight,BODY.offsetHeight,HTML.clientHeight,HTML.scrollHeight,HTML.offsetHeight);sessionStorage.setItem("heightPage",e),initWhatsAppBtn()})),FORM_LOGIN.addEventListener("submit",(e=>{e.preventDefault(),sendEmail(e.currentTarget)}));